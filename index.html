<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Selamat Ulang Tahun Zahra 🎉</title>
  <style>
    body{
      margin:0;
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg,#ff9a9e,#fad0c4);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
      overflow-x:hidden;
    }
    .card{
      background: rgba(255,255,255,0.15);
      border-radius:20px;
      padding:20px;
      backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      max-width:800px;
      width:100%;
      text-align:center;
      position:relative;
      z-index:2;
    }
    h1{
      font-size:2rem;
      color:#fff;
      margin:10px 0;
    }
    .big-name{
      font-size:1.5rem;
      font-weight:700;
      color:#fff;
      margin:10px 0;
    }
    .message{
      background: #fff;   /* kotak putih */
      color:#333;
      padding:15px;
      border-radius:12px;
      font-size:1rem;
      line-height:1.5;
      white-space:pre-wrap;
      margin:15px 0;
      text-align:left;
    }
    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:15px;
    }
    .btn{
      flex:1;
      padding:12px;
      border:none;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      background: linear-gradient(90deg,#ffdd55,#ff7ab6);
      color:#3c0b43;
      transition:0.2s;
    }
    .btn:active{ transform:scale(0.97); }
    .balloon{
      width:100px;
      margin:0 auto 15px auto;
      animation: float 6s ease-in-out infinite;
    }
    @keyframes float{
      0%{ transform:translateY(0); }
      50%{ transform:translateY(-15px); }
      100%{ transform:translateY(0); }
    }

    /* NOTIFIKASI CUSTOM */
    .notif{
      position:fixed;
      top:20px;
      right:20px;
      background:#fff;
      color:#333;
      padding:12px 18px;
      border-radius:10px;
      box-shadow:0 5px 20px rgba(0,0,0,0.2);
      opacity:0;
      transform:translateY(-20px);
      transition:all .3s ease;
      z-index:9999;
      font-weight:600;
    }
    .notif.show{
      opacity:1;
      transform:translateY(0);
    }

    /* Canvas confetti */
    canvas#confetti{
      position:fixed;
      top:0;left:0;
      width:100%;height:100%;
      pointer-events:none;
      z-index:1;
    }

    /* RESPONSIF HP */
    @media (max-width:600px){
      h1{ font-size:1.5rem; }
      .big-name{ font-size:1.2rem; }
      .message{ font-size:0.9rem; padding:12px; }
      .btn{ flex:100%; font-size:0.95rem; }
      .controls{ flex-direction:column; }
      .balloon{ width:70px; }
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="card">
    <!-- SVG Balon -->
    <svg class="balloon" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="100" cy="100" rx="60" ry="80" fill="url(#grad)" />
      <line x1="100" y1="180" x2="100" y2="280" stroke="#fff" stroke-width="3"/>
      <defs>
        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#ff7ab6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#ffd55a;stop-opacity:1" />
        </linearGradient>
      </defs>
    </svg>

    <h1>🎂 Selamat Ulang Tahun Zahra 🎂</h1>
    <div class="big-name">Semoga panjang umur & bahagia selalu 🌸</div>
    <div class="message" id="ucapan">
Hai Zahra 💖

Selamat ulang tahun! Semoga hari ini penuh tawa, doa baik, dan kebahagiaan. 
Tetaplah jadi pribadi yang cantik, pintar, dan membawa semangat positif untuk semua orang di sekitarmu. 

Peluk hangat & doa terbaik selalu 🎉
    </div>
    <div class="controls">
      <button class="btn" onclick="launchConfetti()">Luncurkan Confetti 🎊</button>
      <button class="btn" onclick="showNotif('✨ Fireworks untuk Zahra! ✨')">Fireworks ✨</button>
      <button class="btn" onclick="copyUcapan()">Salin Ucapan 📋</button>
    </div>
  </div>

  <div id="notif" class="notif"></div>
<script>
  // NOTIFIKASI
  function showNotif(msg){
    const n = document.getElementById("notif");
    n.innerText = msg;
    n.classList.add("show");
    setTimeout(()=> n.classList.remove("show"), 2500);
  }

  // SALIN UCAPAN FIX
  function copyUcapan(){
    const text = document.getElementById("ucapan").innerText;

    if(navigator.clipboard && window.isSecureContext){
      // Cara modern (HTTPS / localhost)
      navigator.clipboard.writeText(text).then(()=>{
        showNotif("Ucapan berhasil disalin 💌");
      }).catch(()=>{
        fallbackCopy(text);
      });
    } else {
      // Fallback untuk HTTP
      fallbackCopy(text);
    }
  }

  function fallbackCopy(text){
    const textarea = document.createElement("textarea");
    textarea.value = text;
    textarea.style.position = "fixed"; 
    textarea.style.left = "-9999px"; 
    document.body.appendChild(textarea);
    textarea.focus();
    textarea.select();
    try{
      document.execCommand("copy");
      showNotif("Ucapan berhasil disalin 💌");
    } catch(err){
      showNotif("Gagal menyalin ❌");
    }
    document.body.removeChild(textarea);
  }

    // CONFETTI
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let W = canvas.width = window.innerWidth;
    let H = canvas.height = window.innerHeight;
    window.addEventListener("resize", ()=>{W=canvas.width=innerWidth;H=canvas.height=innerHeight;});
    let particles = [];

    function randomColor(){
      const colors = ["#FF6B6B","#FFD93D","#6BCB77","#4D96FF","#B388EB","#FF7AB6","#FFC2E2"];
      return colors[Math.floor(Math.random()*colors.length)];
    }

    class Confetti{
      constructor(){
        this.x = Math.random()*W;
        this.y = Math.random()*H - H;
        this.size = 6 + Math.random()*8;
        this.color = randomColor();
        this.speedY = 2 + Math.random()*3;
        this.speedX = Math.random()*2-1;
      }
      update(){
        this.x += this.speedX;
        this.y += this.speedY;
        if(this.y > H){
          this.y = -10; this.x = Math.random()*W;
        }
      }
      draw(){
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x,this.y,this.size,this.size);
      }
    }

    function launchConfetti(){
      particles = [];
      for(let i=0;i<150;i++) particles.push(new Confetti());
      showNotif("🎊 Confetti untuk Zahra! 🎊");
    }

    function animate(){
      ctx.clearRect(0,0,W,H);
      for(let p of particles){ p.update(); p.draw(); }
      requestAnimationFrame(animate);
    }
    animate();
  </script>
</body>
</html>